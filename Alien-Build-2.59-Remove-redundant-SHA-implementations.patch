From d4b7cdb9e22f81fae2a3734a2898501528d2c74e Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Petr=20P=C3=ADsa=C5=99?= <ppisar@redhat.com>
Date: Wed, 17 Aug 2022 10:18:36 +0200
Subject: [PATCH] Remove redundant SHA implementations
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

We keep Alien::Build::Plugin::Digest::SHA as it is based on
Digest::SHA.

Alien::Build::Plugin::Digest::SHAPP is removed because it
requires Digest::SHA::PurePerl which is not packaged.

Files are moved externally because of ever changing VERSION variables.

Signed-off-by: Petr Písař <ppisar@redhat.com>
---
 MANIFEST                          | 2 --
 Makefile.PL                       | 1 -
 lib/Alien/Build/Plugin/Digest.pod | 2 --
 3 files changed, 5 deletions(-)

diff --git a/MANIFEST b/MANIFEST
index cff43e0..85977a0 100644
--- a/MANIFEST
+++ b/MANIFEST
@@ -222,7 +222,6 @@ lib/Alien/Build/Plugin/Decode/Mojo.pm
 lib/Alien/Build/Plugin/Digest.pod
 lib/Alien/Build/Plugin/Digest/Negotiate.pm
 lib/Alien/Build/Plugin/Digest/SHA.pm
-lib/Alien/Build/Plugin/Digest/SHAPP.pm
 lib/Alien/Build/Plugin/Download.pod
 lib/Alien/Build/Plugin/Download/Negotiate.pm
 lib/Alien/Build/Plugin/Extract.pod
@@ -312,7 +311,6 @@ t/alien_build_plugin_decode_html.t
 t/alien_build_plugin_decode_mojo.t
 t/alien_build_plugin_digest_negotiate.t
 t/alien_build_plugin_digest_sha.t
-t/alien_build_plugin_digest_shapp.t
 t/alien_build_plugin_download_negotiate.t
 t/alien_build_plugin_extract_archivetar.t
 t/alien_build_plugin_extract_archivezip.t
diff --git a/Makefile.PL b/Makefile.PL
index 3b9aa53..7931c53 100644
--- a/Makefile.PL
+++ b/Makefile.PL
@@ -73,7 +73,6 @@ my %WriteMakefileArgs = (
     "lib/Alien/Build/Plugin/Digest.pod"                  => "\$(INST_LIB)/Alien/Build/Plugin/Digest.pod",
     "lib/Alien/Build/Plugin/Digest/Negotiate.pm"         => "\$(INST_LIB)/Alien/Build/Plugin/Digest/Negotiate.pm",
     "lib/Alien/Build/Plugin/Digest/SHA.pm"               => "\$(INST_LIB)/Alien/Build/Plugin/Digest/SHA.pm",
-    "lib/Alien/Build/Plugin/Digest/SHAPP.pm"             => "\$(INST_LIB)/Alien/Build/Plugin/Digest/SHAPP.pm",
     "lib/Alien/Build/Plugin/Download.pod"                => "\$(INST_LIB)/Alien/Build/Plugin/Download.pod",
     "lib/Alien/Build/Plugin/Download/Negotiate.pm"       => "\$(INST_LIB)/Alien/Build/Plugin/Download/Negotiate.pm",
     "lib/Alien/Build/Plugin/Extract.pod"                 => "\$(INST_LIB)/Alien/Build/Plugin/Extract.pod",
diff --git a/lib/Alien/Build/Plugin/Digest.pod b/lib/Alien/Build/Plugin/Digest.pod
index 4f02619..389f099 100644
--- a/lib/Alien/Build/Plugin/Digest.pod
+++ b/lib/Alien/Build/Plugin/Digest.pod
@@ -37,8 +37,6 @@ L<Digest Negotiator plugin|Alien::Build::Plugin::Digest::Negotiator>.
 
 =item L<Alien::Build::Plugin::Digest::SHA>
 
-=item L<Alien::Build::Plugin::Digest::SHAPP>
-
 =back
 
 =head1 SEE ALSO
-- 
2.37.2

